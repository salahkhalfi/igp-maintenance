const getNowEST=()=>{const e=parseInt(localStorage.getItem("timezone_offset_hours")||"-5"),t=new Date;return new Date(t.getTime()+60*e*60*1e3)},hasScheduledDate=e=>e&&"null"!==e&&""!==e,formatDateEST=(e,t=!0)=>{if(!e)return"";const r=e.includes("T")?e:e.replace(" ","T"),a=new Date(r+(r.includes("Z")?"":"Z")),n=parseInt(localStorage.getItem("timezone_offset_hours")||"-5"),o=new Date(a.getTime()+60*n*60*1e3),s=String(o.getUTCDate()).padStart(2,"0"),i=String(o.getUTCMonth()+1).padStart(2,"0"),g=o.getUTCFullYear();return t?s+"-"+i+"-"+g+" "+String(o.getUTCHours()).padStart(2,"0")+":"+String(o.getUTCMinutes()).padStart(2,"0"):s+"-"+i+"-"+g},localDateTimeToUTC=e=>{if(!e)return null;const t=e.split("T"),r=t[0].split("-"),a=t[1].split(":"),n=parseInt(r[0]),o=parseInt(r[1])-1,s=parseInt(r[2]),i=parseInt(a[0]),g=parseInt(a[1]),l=i-parseInt(localStorage.getItem("timezone_offset_hours")||"-5"),u=new Date(Date.UTC(n,o,s,l,g,0));return u.getUTCFullYear()+"-"+String(u.getUTCMonth()+1).padStart(2,"0")+"-"+String(u.getUTCDate()).padStart(2,"0")+" "+String(u.getUTCHours()).padStart(2,"0")+":"+String(u.getUTCMinutes()).padStart(2,"0")+":00"},utcToLocalDateTime=e=>{if(!e||"null"===e||""===e)return"";const t=e.replace(" ","T")+"Z",r=new Date(t),a=parseInt(localStorage.getItem("timezone_offset_hours")||"-5"),n=new Date(r.getTime()+60*a*60*1e3);return n.getUTCFullYear()+"-"+String(n.getUTCMonth()+1).padStart(2,"0")+"-"+String(n.getUTCDate()).padStart(2,"0")+"T"+String(n.getUTCHours()).padStart(2,"0")+":"+String(n.getUTCMinutes()).padStart(2,"0")},parseUTCDate=e=>{if(!e||"null"===e||""===e)return null;const t=e.replace(" ","T"),r=t+(t.includes("Z")?"":"Z");return new Date(r)},getStatusLabel=e=>({received:"RequÃªte ReÃ§ue",diagnostic:"Diagnostic",in_progress:"En Cours",waiting_parts:"En Attente PiÃ¨ces",completed:"TerminÃ©",archived:"ArchivÃ©"}[e]||e),getElapsedTime=e=>{const t=getNowEST(),r=e.includes("T")?e:e.replace(" ","T"),a=new Date(r+(r.includes("Z")?"":"Z")),n=parseInt(localStorage.getItem("timezone_offset_hours")||"-5"),o=new Date(a.getTime()+60*n*60*1e3);if(isNaN(o.getTime()))return{days:0,hours:0,minutes:0,seconds:0,color:"text-gray-500",bgColor:"bg-gray-50",icon:"âšª"};const s=t-o;if(s<0)return{days:0,hours:0,minutes:0,seconds:0,color:"text-gray-500",bgColor:"bg-gray-50",icon:"âšª"};const i=Math.floor(s/864e5);let g="text-green-700",l="bg-green-50 border-green-200",u="ðŸŸ¢";return i>=7?(g="text-red-700 font-bold",l="bg-red-50 border-red-300",u="ðŸ”´"):i>=3?(g="text-amber-700 font-semibold",l="bg-amber-50 border-amber-200",u="ðŸŸ "):i>=1&&(g="text-yellow-700",l="bg-yellow-50 border-yellow-200",u="ðŸŸ¡"),{days:i,hours:Math.floor(s%864e5/36e5),minutes:Math.floor(s%36e5/6e4),seconds:Math.floor(s%6e4/1e3),color:g,bgColor:l,icon:u}},formatElapsedTime=e=>e.days>0?e.days+"j "+String(e.hours).padStart(2,"0")+":"+String(e.minutes).padStart(2,"0"):e.hours>0?e.hours+"h "+String(e.minutes).padStart(2,"0")+":"+String(e.seconds).padStart(2,"0"):e.minutes>0?e.minutes+"min "+String(e.seconds).padStart(2,"0")+"s":e.seconds+"s",API_URL="/api",DEFAULT_COMPANY_TITLE="Gestion de la maintenance et des rÃ©parations",DEFAULT_COMPANY_SUBTITLE="Les Produits Verriers International (IGP) Inc.";